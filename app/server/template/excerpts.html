{{ define "excerpts" }}
<div class="container">
    {{ if . }}
    <div class="my-4">
        <h2 class="text-center">{{ .Scripture.ReadableName }} {{ (index .Excerpts
            0).ReadableIndex }}{{ if gt (len .Excerpts) 1 }} - {{ (index .Excerpts
            (sub (len .Excerpts) 1)).ReadableIndex }}{{ end }}</h2>
    </div>

    <div class="card my-3">
        <div class="card-header">
            Text (Devanagari)
        </div>
        <div class="card-body">
            {{ range .Excerpts }}
            <p><strong>{{ .ReadableIndex }}</strong></p>
            {{ range .SourceText }}
            <p>{{ . }}</p>
            {{ end }}
            {{ end }}
        </div>
    </div>

    <div class="card my-3">
        <div class="card-header">
            Text (Roman)
        </div>
        <div class="card-body">
            {{ range .Excerpts }}
            <p><strong>{{ .ReadableIndex }}</strong></p>
            {{ range .RomanText }}
            <p>{{ . }}</p>
            {{ end }}
            {{ end }}
        </div>
    </div>
    {{ $excerpts := .Excerpts }}
    {{ $firstExcerpt := index .Excerpts 0 }}
    {{ range $idx, $aux := .Scripture.Auxiliaries }}
    {{ with (index $firstExcerpt.Auxiliaries $aux.Name).Text }}
    <div class="card my-3">
        <div class="card-header">
            {{ $aux.ReadableName }}
        </div>
        <div class="card-body">
            {{ range $excerpts }}
            <p><strong>{{ .ReadableIndex }}</strong></p>
            {{ $auxiliary := index .Auxiliaries $aux.Name }}
            {{ range $auxiliary.Text }}
            <p>{{ . }}</p>
            {{ end }}
            {{ end }}
        </div>
    </div>
    {{ end }}
    {{ end }}

    {{ else }}
    <div class="alert alert-warning mt-4" role="alert">
        No results found!
    </div>
    {{ end }}
</div>
{{ end }}